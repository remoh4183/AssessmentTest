{"failedCount":1,"prefixedPath":"src\/test\/java\/features\/assurity.feature","packageQualifiedName":"src.test.java.features.assurity","loopIndex":-1,"relativePath":"src\/test\/java\/features\/assurity.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1711700,"millis":1.7117,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"url 'https:\/\/api.tmsandbox.co.nz\/v1\/Categories\/6327\/Details.json?catalogue=false'"}},{"result":{"nanos":1233322100,"millis":1233.3221,"status":"passed"},"step":{"line":10,"prefix":"When","index":1,"text":"method GET"},"stepLog":"10:37:09.992 request:\n1 > GET https:\/\/api.tmsandbox.co.nz\/v1\/Categories\/6327\/Details.json?catalogue=false\n1 > Host: api.tmsandbox.co.nz\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_202)\n1 > Accept-Encoding: gzip,deflate\n\n\n10:37:10.584 response time in milliseconds: 575\n1 < 200\n1 < Connection: keep-alive\n1 < Content-Length: 1398\n1 < Content-Type: application\/json\n1 < ETag: \"XrQ7a3WGz9ANtbrp0tIirJIhAM8=\"\n1 < X-Correlation-ID: 43a47b61-d5e7-4218-9231-20edd61ea3e8\n1 < X-Request-ID: 91c3738a-ccca-4404-9c47-7599c542d382\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: ETag\n1 < X-POWERED-BY: \n1 < X-ASPNET-VERSION: \n1 < Accept-Ranges: bytes\n1 < Date: Wed, 17 Aug 2022 02:37:12 GMT\n1 < Strict-Transport-Security: max-age=31536000\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Content-Type-Options: nosniff\n1 < Referrer-Policy: no-referrer\n{\"CategoryId\":6327,\"Name\":\"Carbon credits\",\"Path\":\"\\\/Business-farming-industry\\\/Carbon-credits\",\"CanListAuctions\":true,\"CanListClassifieds\":true,\"CanRelist\":true,\"LegalNotice\":\"Compliance Declaration\\u000aI confirm that these carbon credits are certified and registered with a carbon credits registry. \",\"DefaultDuration\":14,\"AllowedDurations\":[2,3,4,5,6,7,10,14],\"Fees\":{\"Bundle\":15.0000,\"EndDate\":0.2500,\"Feature\":10.0000,\"Gallery\":2.0000,\"Listing\":29.0000,\"Reserve\":0.2500,\"Subtitle\":0.5500,\"TenDays\":0.2500,\"ListingFeeTiers\":[{\"MinimumTierPrice\":0,\"FixedFee\":29.00}],\"SecondCategory\":0.9900},\"FreePhotoCount\":20,\"MaximumPhotoCount\":20,\"IsFreeToRelist\":true,\"Promotions\":[{\"Id\":1,\"Name\":\"Basic\",\"Description\":\"Lowest position in category\",\"Price\":0.0000,\"MinimumPhotoCount\":0},{\"Id\":2,\"Name\":\"Gallery\",\"Description\":\"Good position in category\",\"Price\":2.0000,\"OriginalPrice\":2.0000,\"MinimumPhotoCount\":0},{\"Id\":3,\"Name\":\"Feature\",\"Description\":\"Better position in category\",\"Price\":10.0000,\"OriginalPrice\":10.0000,\"Recommended\":true,\"MinimumPhotoCount\":0},{\"Id\":4,\"Name\":\"Feature Combo\",\"Description\":\"Best position in category \\u000aIncludes benefits of Feature \\u000aHighlights listing in search results\",\"Price\":15.0000,\"OriginalPrice\":15.0000,\"MinimumPhotoCount\":0}],\"EmbeddedContentOptions\":[],\"MaximumTitleLength\":80,\"AreaOfBusiness\":1,\"DefaultRelistDuration\":7,\"CanUseCounterOffers\":true}\n\n"},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":11,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":7510900,"millis":7.5109,"status":"passed"},"step":{"line":12,"prefix":"*","index":3,"text":"def jsonResponse = response"}},{"result":{"nanos":883800,"millis":0.8838,"status":"passed"},"step":{"line":13,"prefix":"*","index":4,"text":"def actualName = jsonResponse.Name"}},{"result":{"nanos":8638300,"millis":8.6383,"status":"passed"},"step":{"line":14,"prefix":"*","index":5,"text":"match actualName == 'Carbon credits'"}}],"executorName":"main","line":8,"name":"Verify Name","description":"","durationMillis":1252.082,"startTime":1660703829193,"failed":false,"refId":"[1:8]","endTime":1660703830728,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":442600,"millis":0.4426,"status":"passed"},"step":{"line":17,"prefix":"Given","index":0,"text":"url 'https:\/\/api.tmsandbox.co.nz\/v1\/Categories\/6327\/Details.json?catalogue=false'"}},{"result":{"nanos":333160000,"millis":333.16,"status":"passed"},"step":{"line":18,"prefix":"When","index":1,"text":"method GET"},"stepLog":"10:37:10.780 request:\n1 > GET https:\/\/api.tmsandbox.co.nz\/v1\/Categories\/6327\/Details.json?catalogue=false\n1 > Host: api.tmsandbox.co.nz\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_202)\n1 > Accept-Encoding: gzip,deflate\n\n\n10:37:11.085 response time in milliseconds: 305\n1 < 200\n1 < Connection: keep-alive\n1 < Content-Length: 1398\n1 < Content-Type: application\/json\n1 < ETag: \"XrQ7a3WGz9ANtbrp0tIirJIhAM8=\"\n1 < X-Correlation-ID: 5cfc5661-2b52-4411-8eb9-5c84c844603c\n1 < X-Request-ID: f2a105bc-1a04-40e8-8860-8a29a6cbae93\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: ETag\n1 < X-POWERED-BY: \n1 < X-ASPNET-VERSION: \n1 < Accept-Ranges: bytes\n1 < Date: Wed, 17 Aug 2022 02:37:13 GMT\n1 < Strict-Transport-Security: max-age=31536000\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Content-Type-Options: nosniff\n1 < Referrer-Policy: no-referrer\n{\"CategoryId\":6327,\"Name\":\"Carbon credits\",\"Path\":\"\\\/Business-farming-industry\\\/Carbon-credits\",\"CanListAuctions\":true,\"CanListClassifieds\":true,\"CanRelist\":true,\"LegalNotice\":\"Compliance Declaration\\u000aI confirm that these carbon credits are certified and registered with a carbon credits registry. \",\"DefaultDuration\":14,\"AllowedDurations\":[2,3,4,5,6,7,10,14],\"Fees\":{\"Bundle\":15.0000,\"EndDate\":0.2500,\"Feature\":10.0000,\"Gallery\":2.0000,\"Listing\":29.0000,\"Reserve\":0.2500,\"Subtitle\":0.5500,\"TenDays\":0.2500,\"ListingFeeTiers\":[{\"MinimumTierPrice\":0,\"FixedFee\":29.00}],\"SecondCategory\":0.9900},\"FreePhotoCount\":20,\"MaximumPhotoCount\":20,\"IsFreeToRelist\":true,\"Promotions\":[{\"Id\":1,\"Name\":\"Basic\",\"Description\":\"Lowest position in category\",\"Price\":0.0000,\"MinimumPhotoCount\":0},{\"Id\":2,\"Name\":\"Gallery\",\"Description\":\"Good position in category\",\"Price\":2.0000,\"OriginalPrice\":2.0000,\"MinimumPhotoCount\":0},{\"Id\":3,\"Name\":\"Feature\",\"Description\":\"Better position in category\",\"Price\":10.0000,\"OriginalPrice\":10.0000,\"Recommended\":true,\"MinimumPhotoCount\":0},{\"Id\":4,\"Name\":\"Feature Combo\",\"Description\":\"Best position in category \\u000aIncludes benefits of Feature \\u000aHighlights listing in search results\",\"Price\":15.0000,\"OriginalPrice\":15.0000,\"MinimumPhotoCount\":0}],\"EmbeddedContentOptions\":[],\"MaximumTitleLength\":80,\"AreaOfBusiness\":1,\"DefaultRelistDuration\":7,\"CanUseCounterOffers\":true}\n\n"},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":19,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":239600,"millis":0.2396,"status":"passed"},"step":{"line":20,"prefix":"*","index":3,"text":"def jsonResponse = response"}},{"result":{"nanos":1181000,"millis":1.181,"status":"passed"},"step":{"line":21,"prefix":"*","index":4,"text":"def actualCanRelist = jsonResponse.CanRelist"}},{"result":{"nanos":1252800,"millis":1.2528,"status":"passed"},"step":{"line":22,"prefix":"*","index":5,"text":"match actualCanRelist == true"}}],"executorName":"main","line":16,"name":"Verify CanRelist","description":"","durationMillis":336.2841,"startTime":1660703830751,"failed":false,"refId":"[2:16]","endTime":1660703831089,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":10165400,"millis":10.1654,"status":"passed"},"step":{"line":25,"prefix":"*","index":0,"text":"def javaMethods = Java.type('pages.JavaMethods')"}},{"result":{"nanos":252900,"millis":0.2529,"status":"passed"},"step":{"line":27,"prefix":"Given","index":1,"text":"url 'https:\/\/api.tmsandbox.co.nz\/v1\/Categories\/6327\/Details.json?catalogue=false'"}},{"result":{"nanos":325895000,"millis":325.895,"status":"passed"},"step":{"line":28,"prefix":"When","index":2,"text":"method GET"},"stepLog":"10:37:11.109 request:\n1 > GET https:\/\/api.tmsandbox.co.nz\/v1\/Categories\/6327\/Details.json?catalogue=false\n1 > Host: api.tmsandbox.co.nz\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_202)\n1 > Accept-Encoding: gzip,deflate\n\n\n10:37:11.431 response time in milliseconds: 319\n1 < 200\n1 < Connection: keep-alive\n1 < Content-Length: 1398\n1 < Content-Type: application\/json\n1 < ETag: \"XrQ7a3WGz9ANtbrp0tIirJIhAM8=\"\n1 < X-Correlation-ID: 1a35540b-35ec-480c-8b29-8a83d4ef60c6\n1 < X-Request-ID: 2a6a39cb-3a02-419c-bf46-b92a3b0773eb\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: ETag\n1 < X-POWERED-BY: \n1 < X-ASPNET-VERSION: \n1 < Accept-Ranges: bytes\n1 < Date: Wed, 17 Aug 2022 02:37:13 GMT\n1 < Strict-Transport-Security: max-age=31536000\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Content-Type-Options: nosniff\n1 < Referrer-Policy: no-referrer\n{\"CategoryId\":6327,\"Name\":\"Carbon credits\",\"Path\":\"\\\/Business-farming-industry\\\/Carbon-credits\",\"CanListAuctions\":true,\"CanListClassifieds\":true,\"CanRelist\":true,\"LegalNotice\":\"Compliance Declaration\\u000aI confirm that these carbon credits are certified and registered with a carbon credits registry. \",\"DefaultDuration\":14,\"AllowedDurations\":[2,3,4,5,6,7,10,14],\"Fees\":{\"Bundle\":15.0000,\"EndDate\":0.2500,\"Feature\":10.0000,\"Gallery\":2.0000,\"Listing\":29.0000,\"Reserve\":0.2500,\"Subtitle\":0.5500,\"TenDays\":0.2500,\"ListingFeeTiers\":[{\"MinimumTierPrice\":0,\"FixedFee\":29.00}],\"SecondCategory\":0.9900},\"FreePhotoCount\":20,\"MaximumPhotoCount\":20,\"IsFreeToRelist\":true,\"Promotions\":[{\"Id\":1,\"Name\":\"Basic\",\"Description\":\"Lowest position in category\",\"Price\":0.0000,\"MinimumPhotoCount\":0},{\"Id\":2,\"Name\":\"Gallery\",\"Description\":\"Good position in category\",\"Price\":2.0000,\"OriginalPrice\":2.0000,\"MinimumPhotoCount\":0},{\"Id\":3,\"Name\":\"Feature\",\"Description\":\"Better position in category\",\"Price\":10.0000,\"OriginalPrice\":10.0000,\"Recommended\":true,\"MinimumPhotoCount\":0},{\"Id\":4,\"Name\":\"Feature Combo\",\"Description\":\"Best position in category \\u000aIncludes benefits of Feature \\u000aHighlights listing in search results\",\"Price\":15.0000,\"OriginalPrice\":15.0000,\"MinimumPhotoCount\":0}],\"EmbeddedContentOptions\":[],\"MaximumTitleLength\":80,\"AreaOfBusiness\":1,\"DefaultRelistDuration\":7,\"CanUseCounterOffers\":true}\n\n"},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":29,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":244400,"millis":0.2444,"status":"passed"},"step":{"line":30,"prefix":"*","index":4,"text":"def jsonResponse = response"}},{"result":{"nanos":2560000,"millis":2.56,"status":"passed"},"step":{"line":31,"prefix":"*","index":5,"text":"def actualPromotions = jsonResponse.Promotions"}},{"result":{"nanos":9839500,"millis":9.8395,"status":"passed"},"step":{"line":32,"prefix":"*","index":6,"text":"print actualPromotions.length"},"stepLog":"10:37:11.445 [print] 4 \n"},{"result":{"nanos":33031500,"errorMessage":"js failed:\n>>>>\n01: for(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:93 Expected ; but found actualPromotions\r\nfor(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\r\n                                                                                             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:401)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:141)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:137)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1344)\n- com.intuit.karate.ScenarioActions.eval(ScenarioActions.java:376)\n- sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n- sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nsrc\/test\/java\/features\/assurity.feature:33","millis":33.0315,"status":"failed"},"step":{"line":33,"prefix":"And","index":7,"text":"eval for(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description"},"stepLog":"10:37:11.482 src\/test\/java\/features\/assurity.feature:33\nAnd eval for(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\njs failed:\n>>>>\n01: for(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:93 Expected ; but found actualPromotions\r\nfor(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\r\n                                                                                             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:401)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:141)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:137)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1344)\n- com.intuit.karate.ScenarioActions.eval(ScenarioActions.java:376)\n- sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n- sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nsrc\/test\/java\/features\/assurity.feature:33\n"}],"line":24,"description":"","durationMillis":381.9992,"failed":true,"error":"js failed:\n>>>>\n01: for(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:93 Expected ; but found actualPromotions\r\nfor(var i=1; i<actualPromotions.length; i++) if(actualPromotions[i].Name == \"Gallery\") print actualPromotions[i].Description\r\n                                                                                             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:401)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:141)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:137)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1344)\n- com.intuit.karate.ScenarioActions.eval(ScenarioActions.java:376)\n- sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n- sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nsrc\/test\/java\/features\/assurity.feature:33","executorName":"main","name":"The Promotions element with Name = Gallery","startTime":1660703831095,"refId":"[3:24]","endTime":1660703831482,"exampleIndex":-1}],"callDepth":0,"name":"Test Assurity API","description":"","resultDate":"2022-08-17 10:37:11 AM","durationMillis":1970.3653,"passedCount":2}